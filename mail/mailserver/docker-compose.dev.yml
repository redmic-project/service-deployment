version: '3.5'

services:
  mail-mailserver:
    container_name: mail-mailserver
    restart: on-failure:3
    ports:
      - 25:25 # SMTP - Required
    # - 110:110 # POP3 STARTTLS - Optional - For webmails/desktop clients
      - 143:143 # IMAP STARTTLS - Optional - For webmails/desktop clients
    # - 465:465 # SMTPS SSL/TLS - Optional - Enabled for compatibility reason, otherwise disabled
      - 587:587 # Submission STARTTLS - Optional - For webmails/desktop clients
      - 993:993 # IMAPS SSL/TLS - Optional - For webmails/desktop clients
    # - 995:995 # POP3S SSL/TLS - Optional - For webmails/desktop clients
      - 4190:4190 # SIEVE STARTTLS - Optional - Recommended for mail filtering
      - ${RSPAMD_PORT}:${RSPAMD_PORT}

volumes:
  mail-mailserver-vol:
    name: mail-mailserver-vol
